# PR code review

협업의 필수 과정인 PR 코드 리뷰는 각자의 코드 스타일을 파악하고 서로간 부족한 부분을 개선할 수 있다.

때때로 서로 알고 있는 지식을 교류함으로써 개발적 지식을 한단계 높일 수 있는 기회가 되기도 한다.

그러나 잘못된 코드 리뷰 방식은 서로간 감정이 상할 수 있다.

하여 PR 코드 리뷰에 대한 규칙을 정하도록 한다.

## 일반적인 코드 리뷰 규칙

PR은 **항상 1명 이상의 승인(approve)이 있어야 한다.**

또한, PR에 대하여 당일 리뷰를 원칙으로 하며 당일 리뷰를 할 수 없다면 **리뷰어는 코멘트로 언제 진행하겠다 명시해 줘야 한다.**

명시해 줘야 하는 이유는 PR 리뷰가 밀림으로 인해 작성자의 다음 작업이 후일로 미뤄질 수 있기 때문이다.

PR을 병합하는 방식은 기본 설정된 `Create a Merge Commit`으로 시행한다.

하나의 PR 단위는 **500줄을 넘지 않는 것을 원칙**으로 한다.

만약 작업 단위가 커서 500줄을 필연적으로 넘을 것 같다면 [git branch 전략](./git-branch-strategy.md)에 의거하여 `base`와 `sub` 브랜치를 생성하자.

## 코멘트에 대하여

당연한 얘기지만 코드 리뷰를 진행할 때는 **공격적이거나 가르치는 듯한 말투를 지양해야 한다.**

코드 리뷰는 **가르쳐 주는 것이 아니라 의견을 나누는 것이다.**

다음 예시를 보자.

```js
// 목업을 위해 하드 코딩된 상수 객체
const data = {
	id : 123,
	title : 'PR리뷰',
	description : '코드 리뷰 부탁드려요~',
	createdAt : '2022-02-22',
};
```

```
<!-- bad! -->
data 쓰지말고 객체 속 데이터와 비슷한 맥락으로 변수명 작성하세요.
그리고 이건 상수 아닌가요? 상수는 기본적으로 어퍼케이스를 쓰는 게 컨벤션입니다.
여기서는 목업 데이터이니 `MOCKUP_DATA` 이렇게 쓰면 되겠네요.

<!-- Good! -->
data라 작성하셨는데 제가 보기에는 조금 헷갈릴 수 있을거 같아서요!
목업용이라 굳이 변경할 필요는 없어보이나, `MOCKUP` 이런식으로 접두사를 넣는 게 더 좋아보입니다!
```

**코드 리뷰란 지적하는 것이 아니라 의견을 나누는 것임**을 항상 생각해야 한다.

위 예시처럼 **단답형이나 명령조로 말하는 것이 아니라 자신의 개인적 의견을 적는다.**

> _사견으로 특수 문자나 이모지를 흐름 맞춰 적극 사용하길 권한다. 말투가 부드러워 보인다._

코멘트를 달아주는 사람이 제안한다면 리뷰어 역시 최대한 열린 마음으로 받아들이고 반영한다.

하지만, 코멘트들을 **꼭 반영해야 한다는 뜻은 아니다.**

PR 작성자 판단에는 반영하지 않아도 무방하다 생각이 들면, 이에 대해 리뷰어에게 설명하고 넘어간다.

이 경우에도 **상대방이 이해되지 않는다는 식으로 코멘트를 남기는 건 지양**하자.

로봇과 진행하는 게 아니라 **사람과 사람이 진행하므로 감정이 상할 수 밖에 없다.**

```
<!-- Bad! -->
어차피 변수 삭제할 거라 안 그래도 될 거 같네요.

<!-- Good! -->
네 말씀처럼 `MOCK_UP`이란 접두사를 넣으면 더 좋아보이긴 하네요!
그렇지만 이 변수는 곧 제거될 예정이니 굳이 바꾸지 않고 진행해도 될 것 같습니다 ㅎㅎ
의견 감사합니다. :)
```

